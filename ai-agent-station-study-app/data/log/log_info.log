25-12-27.11:31:37.021 [main            ] INFO  AutoNodeAgentTest      - Starting AutoNodeAgentTest using Java 17.0.3.1 with PID 8080 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.11:31:37.027 [main            ] INFO  AutoNodeAgentTest      - The following 1 profile is active: "dev"
25-12-27.11:31:41.031 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.11:31:41.042 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.11:31:41.042 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.11:31:41.776 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.11:31:42.701 [main            ] INFO  AutoNodeAgentTest      - Started AutoNodeAgentTest in 6.984 seconds (process running for 9.316)
25-12-27.11:31:42.706 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[])
25-12-27.11:31:42.711 [main            ] WARN  AiAgentAutoConfiguration - AI Agent 自动装配配置的客户端ID列表为空
25-12-27.11:31:44.067 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103]
25-12-27.11:31:44.069 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103]
25-12-27.11:31:44.071 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103]
25-12-27.11:31:44.070 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103]
25-12-27.11:31:44.072 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103]
25-12-27.11:31:44.074 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103]
25-12-27.11:31:44.112 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.11:31:45.071 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@c9a1287
25-12-27.11:31:45.076 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.11:31:45.875 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:31:45.883 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.11:31:45.883 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:31:46.421 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.11:31:46.493 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.11:31:46.500 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.11:31:46.500 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:31:46.550 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.11:31:46.824 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.11:36:29.672 [main            ] INFO  AutoNodeAgentTest      - Starting AutoNodeAgentTest using Java 17.0.3.1 with PID 18284 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.11:36:29.679 [main            ] INFO  AutoNodeAgentTest      - The following 1 profile is active: "dev"
25-12-27.11:36:33.072 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.11:36:33.081 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.11:36:33.081 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.11:36:33.721 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.11:36:34.667 [main            ] INFO  AutoNodeAgentTest      - Started AutoNodeAgentTest in 6.209 seconds (process running for 8.396)
25-12-27.11:36:34.671 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[])
25-12-27.11:36:34.677 [main            ] WARN  AiAgentAutoConfiguration - AI Agent 自动装配配置的客户端ID列表为空
25-12-27.11:36:35.831 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103]
25-12-27.11:36:35.833 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103]
25-12-27.11:36:35.834 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103]
25-12-27.11:36:35.834 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103]
25-12-27.11:36:35.836 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103]
25-12-27.11:36:35.837 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103]
25-12-27.11:36:35.890 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.11:36:36.554 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@d0aed25
25-12-27.11:36:36.556 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.11:36:37.271 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:36:37.271 [main            ] WARN  AiClientApiNode        - 没有需要被初始化的api
25-12-27.11:36:37.312 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.11:36:37.604 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.11:40:38.118 [main            ] INFO  AutoNodeAgentTest      - Starting AutoNodeAgentTest using Java 17.0.3.1 with PID 11752 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.11:40:38.125 [main            ] INFO  AutoNodeAgentTest      - The following 1 profile is active: "dev"
25-12-27.11:40:41.447 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.11:40:41.455 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.11:40:41.455 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.11:40:42.191 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.11:40:43.087 [main            ] INFO  AutoNodeAgentTest      - Started AutoNodeAgentTest in 6.326 seconds (process running for 8.332)
25-12-27.11:40:43.091 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[])
25-12-27.11:40:43.096 [main            ] WARN  AiAgentAutoConfiguration - AI Agent 自动装配配置的客户端ID列表为空
25-12-27.11:40:44.216 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103]
25-12-27.11:40:44.217 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103]
25-12-27.11:40:44.219 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103]
25-12-27.11:40:44.220 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103]
25-12-27.11:40:44.222 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103]
25-12-27.11:40:44.224 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103]
25-12-27.11:40:44.257 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.11:40:44.976 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a1b05df
25-12-27.11:40:44.980 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.11:40:45.868 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:40:45.876 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.11:40:45.876 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:40:45.876 [main            ] WARN  AiClientToolMcpNode    - 没有需要被初始化的 ai client tool mcp
25-12-27.11:40:45.877 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:40:45.913 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.11:40:46.092 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.11:42:05.485 [main            ] INFO  AutoNodeAgentTest      - Starting AutoNodeAgentTest using Java 17.0.3.1 with PID 15652 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.11:42:05.494 [main            ] INFO  AutoNodeAgentTest      - The following 1 profile is active: "dev"
25-12-27.11:42:08.778 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.11:42:08.788 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.11:42:08.788 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.11:42:09.470 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.11:42:10.350 [main            ] INFO  AutoNodeAgentTest      - Started AutoNodeAgentTest in 6.083 seconds (process running for 8.143)
25-12-27.11:42:10.355 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[])
25-12-27.11:42:10.359 [main            ] WARN  AiAgentAutoConfiguration - AI Agent 自动装配配置的客户端ID列表为空
25-12-27.11:42:11.507 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103]
25-12-27.11:42:11.508 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103]
25-12-27.11:42:11.509 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103]
25-12-27.11:42:11.510 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103]
25-12-27.11:42:11.511 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103]
25-12-27.11:42:11.511 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103]
25-12-27.11:42:11.543 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.11:42:12.242 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fc421c1
25-12-27.11:42:12.247 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.11:42:13.015 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:42:13.022 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.11:42:13.023 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:42:13.023 [main            ] WARN  AiClientToolMcpNode    - 没有需要被初始化的 ai client tool mcp
25-12-27.11:42:13.024 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:42:13.026 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.11:42:13.026 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.11:42:13.026 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:42:13.047 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.11:42:13.047 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:42:13.085 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.11:42:13.289 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.11:44:24.011 [main            ] INFO  AutoNodeAgentTest      - Starting AutoNodeAgentTest using Java 17.0.3.1 with PID 9544 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.11:44:24.017 [main            ] INFO  AutoNodeAgentTest      - The following 1 profile is active: "dev"
25-12-27.11:44:27.442 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.11:44:27.450 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.11:44:27.450 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.11:44:28.115 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.11:44:28.961 [main            ] INFO  AutoNodeAgentTest      - Started AutoNodeAgentTest in 6.17 seconds (process running for 8.114)
25-12-27.11:44:28.965 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.11:44:28.971 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.11:44:28.975 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.11:44:28.976 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.11:44:28.977 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.11:44:28.978 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.11:44:28.978 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.11:44:28.978 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.11:44:29.014 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.11:44:29.729 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4cc7a0d6
25-12-27.11:44:29.734 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.11:44:30.624 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:30.630 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.11:44:30.630 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:30.631 [main            ] WARN  AiClientToolMcpNode    - 没有需要被初始化的 ai client tool mcp
25-12-27.11:44:30.631 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:30.632 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.11:44:30.633 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.11:44:30.633 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:30.648 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.11:44:30.649 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:30.650 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_tool_mcp_5006' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at cn.bugstack.ai.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:68)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientNode.doApply(AiClientNode.java:53)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientNode.doApply(AiClientNode.java:22)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:45)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientAdvisorNode.doApply(AiClientAdvisorNode.java:18)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientModelNode.doApply(AiClientModelNode.java:68)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientModelNode.doApply(AiClientModelNode.java:20)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:38)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.11:44:31.815 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103]
25-12-27.11:44:31.815 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103]
25-12-27.11:44:31.815 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103]
25-12-27.11:44:31.816 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103]
25-12-27.11:44:31.816 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103]
25-12-27.11:44:31.817 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103]
25-12-27.11:44:32.108 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:32.116 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.11:44:32.116 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:32.116 [main            ] WARN  AiClientToolMcpNode    - 没有需要被初始化的 ai client tool mcp
25-12-27.11:44:32.116 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:32.117 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.11:44:32.118 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.11:44:32.118 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:32.119 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.11:44:32.119 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.11:44:32.157 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.11:44:32.482 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.15:43:21.032 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 15824 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.15:43:21.046 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.15:43:27.468 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.15:43:27.479 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.15:43:27.479 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.15:43:28.581 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.15:43:30.264 [main            ] INFO  AgentTest              - Started AgentTest in 11.918 seconds (process running for 30.403)
25-12-27.15:43:30.281 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.15:43:30.297 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.15:48:21.393 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.15:48:21.398 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.15:48:21.403 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.15:48:27.501 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.15:48:31.591 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.15:48:31.602 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.15:48:31.730 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.15:48:33.413 [pool-2-thread-2 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@35827335
25-12-27.15:48:33.422 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.15:49:23.228 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=49s690ms371µs900ns).
25-12-27.15:49:30.030 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.15:49:30.057 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy88.queryBySourceTypeAndId(Unknown Source)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientAdvisorVOByClientIds(AgentRepository.java:306)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientAdvisorVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$4(AiClientLoadDataStrategy.java:50)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	... 4 common frames omitted
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at jdk.internal.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 25 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	... 31 common frames omitted
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (MainHikariPool) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:95)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	... 41 common frames omitted
25-12-27.15:49:30.170 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.15:50:52.159 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 19852 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.15:50:52.171 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.15:50:58.325 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.15:50:58.341 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.15:50:58.341 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.15:50:59.582 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.15:51:01.292 [main            ] INFO  AgentTest              - Started AgentTest in 11.624 seconds (process running for 14.888)
25-12-27.15:51:01.308 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.15:51:01.323 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.15:51:45.759 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.15:51:45.761 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.15:51:45.764 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.15:51:45.766 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.15:51:50.111 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.15:51:50.113 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.15:51:56.218 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.15:51:57.456 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@18155f9a
25-12-27.15:51:57.466 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.15:53:11.589 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m14s18ms38µs700ns).
25-12-27.15:53:32.611 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_model_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientModelDao.queryByModelId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_model_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientModelDao.queryByModelId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:154)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:87)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy90.queryByModelId(Unknown Source)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.queryAiClientApiVOListByClientIds(AgentRepository.java:74)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientApiVOListByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$0(AiClientLoadDataStrategy.java:30)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	... 4 common frames omitted
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_model_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientModelDao.queryByModelId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:75)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	... 32 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: MainHikariPool - Connection is not available, request timed out after 76428ms (total=2, active=2, idle=0, waiting=0)
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:686)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:179)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:144)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:127)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	... 42 common frames omitted
25-12-27.15:54:54.994 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m43s405ms520µs700ns).
25-12-27.15:54:55.114 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.15:54:57.987 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.15:55:06.914 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 13688 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.15:55:06.927 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.15:55:12.784 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.15:55:12.797 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.15:55:12.797 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.15:55:13.814 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.15:55:15.513 [main            ] INFO  AgentTest              - Started AgentTest in 11.043 seconds (process running for 14.055)
25-12-27.15:55:15.531 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.15:55:15.548 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.15:55:38.722 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.15:55:38.725 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.15:55:38.727 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.15:55:38.729 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.15:55:39.347 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.15:55:39.349 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.15:56:06.743 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 14176 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.15:56:06.751 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.15:56:10.867 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.15:56:10.877 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.15:56:10.878 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.15:56:11.495 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.15:56:12.358 [main            ] INFO  AgentTest              - Started AgentTest in 7.26 seconds (process running for 9.515)
25-12-27.15:56:12.364 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.15:56:12.369 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.15:56:12.374 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.375 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.376 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.376 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.379 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.379 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.15:56:12.419 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.15:56:13.178 [pool-2-thread-6 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@587f6813
25-12-27.15:56:13.182 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.15:56:14.272 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.15:56:14.280 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.15:56:14.280 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.15:56:15.624 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.15:56:15.739 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.15:56:15.747 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.15:56:15.747 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.15:56:15.763 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'ai_client_tool_mcp_5007' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:951)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1272)
	at cn.bugstack.ai.domain.agent.service.armory.AbstractArmorySupport.getBean(AbstractArmorySupport.java:68)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientModelNode.doApply(AiClientModelNode.java:50)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientModelNode.doApply(AiClientModelNode.java:20)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:49)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.15:56:17.162 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3001]
25-12-27.15:56:17.169 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3001]
25-12-27.15:56:17.162 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3001]
25-12-27.15:56:17.175 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3001]
25-12-27.15:56:17.179 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3001]
25-12-27.15:56:17.179 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3001]
25-12-27.15:56:17.274 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3001"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.15:56:17.274 [main            ] WARN  AiClientApiNode        - 没有需要被初始化的api
25-12-27.15:56:17.324 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.15:56:17.663 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:03:33.761 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 12252 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:03:33.767 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:03:37.141 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:03:37.149 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:03:37.149 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:03:37.825 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:03:38.666 [main            ] INFO  AgentTest              - Started AgentTest in 6.202 seconds (process running for 8.32)
25-12-27.16:03:38.671 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:03:38.675 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:03:38.679 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.679 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.679 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.681 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.681 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.682 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:03:38.718 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:03:39.454 [pool-2-thread-1 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@791a6447
25-12-27.16:03:39.458 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:03:40.372 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:03:40.478 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:03:40.493 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:03:40.493 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:03:40.923 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:03:41.003 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:03:41.009 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:03:41.009 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:03:42.139 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3001]
25-12-27.16:03:42.139 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3001]
25-12-27.16:03:42.139 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3001]
25-12-27.16:03:42.140 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3001]
25-12-27.16:03:42.141 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3001]
25-12-27.16:03:42.142 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3001]
25-12-27.16:03:42.216 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3001"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:03:42.217 [main            ] WARN  AiClientApiNode        - 没有需要被初始化的api
25-12-27.16:03:42.274 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:03:42.550 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:14:29.842 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 9484 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:14:29.864 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:14:35.713 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:14:35.721 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:14:35.721 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:14:36.681 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:14:38.300 [main            ] INFO  AgentTest              - Started AgentTest in 11.075 seconds (process running for 14.894)
25-12-27.16:14:38.316 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:14:38.332 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:14:43.009 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:14:43.009 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:14:43.023 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:14:43.027 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:14:55.145 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:14:55.145 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:15:16.597 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:15:18.158 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@647e8002
25-12-27.16:15:18.173 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:15:19.119 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:15:50.972 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:16:02.858 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:16:09.221 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:16:29.408 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:16:35.785 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:16:35.785 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:18:32.186 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m9s651ms883µs900ns).
25-12-27.16:18:32.186 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:18:47.890 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3001]
25-12-27.16:18:47.890 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3001]
25-12-27.16:18:47.902 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3001]
25-12-27.16:18:47.902 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3001]
25-12-27.16:18:47.902 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3001]
25-12-27.16:18:47.902 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3001]
25-12-27.16:18:57.577 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3001"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:18:58.376 [main            ] WARN  AiClientApiNode        - 没有需要被初始化的api
25-12-27.16:19:00.571 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:19:01.006 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:19:39.600 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 1068 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:19:39.615 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:19:45.357 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:19:45.366 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:19:45.366 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:19:46.449 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:19:48.051 [main            ] INFO  AgentTest              - Started AgentTest in 10.843 seconds (process running for 13.989)
25-12-27.16:19:48.066 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:19:48.088 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:20:53.475 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:20:53.475 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:20:53.475 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:20:53.486 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:20:55.063 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:20:55.063 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:21:05.282 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:21:06.487 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@65f967f5
25-12-27.16:21:06.519 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:22:23.702 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:24:50.411 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m43s183ms47µs500ns).
25-12-27.16:24:50.462 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:24:50.472 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:24:50.473 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:24:50.515 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:24:50.824 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:24:59.949 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 13904 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:24:59.985 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:25:06.060 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:25:06.075 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:25:06.075 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:25:07.126 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:25:08.853 [main            ] INFO  AgentTest              - Started AgentTest in 11.394 seconds (process running for 14.59)
25-12-27.16:25:08.868 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:25:08.883 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:25:12.216 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:25:12.221 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:25:12.226 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:25:12.228 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:25:12.551 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:25:12.552 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:25:13.469 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:25:14.716 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@13674f70
25-12-27.16:25:14.736 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:25:17.373 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:25:18.094 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:25:18.094 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:25:20.909 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:25:29.267 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3001]
25-12-27.16:25:29.267 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3001]
25-12-27.16:25:29.266 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3001]
25-12-27.16:25:29.267 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3001]
25-12-27.16:25:29.267 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3001]
25-12-27.16:25:29.267 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3001]
25-12-27.16:25:55.198 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3001"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:25:57.013 [main            ] WARN  AiClientApiNode        - 没有需要被初始化的api
25-12-27.16:26:05.247 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:26:05.678 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:27:31.691 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 12244 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:27:31.700 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:27:35.006 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:27:35.014 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:27:35.014 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:27:35.650 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:27:36.499 [main            ] INFO  AgentTest              - Started AgentTest in 6.049 seconds (process running for 8.027)
25-12-27.16:27:36.504 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:27:36.509 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:27:36.512 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.513 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.514 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.514 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.515 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.516 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:27:36.548 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:27:37.258 [pool-2-thread-3 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@fae2f22
25-12-27.16:27:37.263 [pool-2-thread-3 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:27:38.222 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:27:38.235 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:27:38.235 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:27:38.236 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:27:39.524 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:27:39.523 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:27:39.524 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:27:39.525 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:27:39.525 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:27:39.525 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:27:39.690 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:27:39.705 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:27:39.706 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:27:39.707 [main            ] WARN  AiClientToolMcpNode    - 没有需要被初始化的 ai client tool mcp
25-12-27.16:27:39.708 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:27:39.783 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:27:40.048 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:28:33.923 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 11836 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:28:33.932 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:28:37.304 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:28:37.313 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:28:37.313 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:28:37.949 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:28:38.829 [main            ] INFO  AgentTest              - Started AgentTest in 6.122 seconds (process running for 8.213)
25-12-27.16:28:38.835 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:28:38.840 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:28:38.844 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.845 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.846 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.847 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.849 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.851 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:28:38.888 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:28:39.605 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4dd3563e
25-12-27.16:28:39.611 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:28:40.551 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:28:40.647 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:28:40.653 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:28:40.654 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:28:41.117 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:28:41.211 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:28:41.217 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:28:41.217 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:28:42.398 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:28:42.398 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:28:42.398 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:28:42.399 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:28:42.399 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:28:42.399 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:28:42.533 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:28:42.543 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:28:42.543 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:28:42.696 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:28:42.765 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:28:42.766 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:28:42.766 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:28:42.813 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:28:43.121 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:29:52.799 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 19288 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:29:52.806 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:29:56.127 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:29:56.135 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:29:56.136 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:29:56.730 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:29:57.574 [main            ] INFO  AgentTest              - Started AgentTest in 6.121 seconds (process running for 8.046)
25-12-27.16:29:57.579 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:29:57.584 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:29:57.590 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.591 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.592 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.592 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.594 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.594 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:29:57.628 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:29:58.360 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@40ec3dde
25-12-27.16:29:58.365 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:29:59.331 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:29:59.428 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:29:59.434 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:29:59.435 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:29:59.860 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:29:59.955 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:29:59.960 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:29:59.961 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:30:01.237 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:30:01.237 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:30:01.238 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:30:01.238 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:30:01.239 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:30:01.239 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:30:01.369 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:30:01.376 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:30:01.377 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:30:01.594 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:30:01.685 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:30:01.687 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:30:01.687 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:30:01.837 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.16:30:01.838 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:30:01.858 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.16:30:01.858 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:30:01.944 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.16:30:01.946 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@6558e86d
25-12-27.16:30:10.955 [main            ] INFO  AgentTest              - 测试结果(call):**任务状态分析:**
当前您询问可用工具列表，这是任务中的初始咨询阶段，目标是了解可用资源和工具支持。从系统配置来看，目前可以使用的工具主要包括两个：

1. **functions命名空间下的搜索工具（JavaSDKMCPClient_AIsearch）**：
   - 功能：执行基于关键词的网络搜索，支持自然语言查询。
   - 参数丰富：包括查询语句、指定模型进行搜索结果总结、搜索结果输出风格控制、以及搜索结果多样性控制等。
   - 适用场景：当需要获取实时的网络信息或多来源信息汇总时。

2. **multi_tool_use命名空间下的并行工具调用（parallel）**：
   - 功能：支持同时调用多个functions工具，可并行执行，提升效率。
   - 适用场景：需要多任务并行处理时，例如同时执行多个不同关键词或不同参数的搜索任务。

**执行历史评估:**
当前尚无执行历史，用户初次询问工具能力，未见已有执行操作记录。

**下一步策略:**
建议明确您的具体需求或任务目标，从而选择合适的工具，例如：
- 如果需要信息检索及跟进分析，使用functions搜索工具，结合模型总结高效提取关键信息。
- 若需执行多任务或综合查询，采用multi_tool_use并行调用工具提升响应速度。
您也可进一步说明任务背景或目标，我将为您制定精准工具使用方案。

**完成度评估:** 10%（初步工具识别阶段）
**任务状态:** CONTINUE
25-12-27.16:30:10.976 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:30:11.385 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:32:20.987 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 16044 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:32:20.994 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:32:24.490 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:32:24.499 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:32:24.499 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:32:25.183 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:32:26.116 [main            ] INFO  AgentTest              - Started AgentTest in 6.469 seconds (process running for 8.548)
25-12-27.16:32:26.125 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:32:26.132 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:32:26.138 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.138 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.139 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.141 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.142 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.144 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:32:26.183 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:32:26.872 [pool-2-thread-6 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5eba4e75
25-12-27.16:32:26.875 [pool-2-thread-6 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:32:27.653 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_1_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:32:27.897 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:27.906 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:32:27.907 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:28.333 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:32:28.414 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:32:28.419 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:32:28.419 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:32:29.723 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:32:29.723 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:32:29.723 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:32:29.724 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:32:29.724 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:32:29.725 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:32:29.846 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:29.862 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:32:29.863 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:30.053 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:32:30.124 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:32:30.125 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:32:30.125 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:30.226 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.16:32:30.226 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:30.242 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.16:32:30.243 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:32:30.321 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.16:32:30.322 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@1c07f230
25-12-27.16:32:37.854 [main            ] INFO  AgentTest              - 测试结果(call):**任务状态分析:**
目前尚未开始具体任务的执行，因此没有任务完成情况的数据分析。

**执行历史评估:**
当前没有执行历史可评估。

**下一步策略:**
介绍可用的工具，帮助后续任务的执行。

**完成度评估:** 0%

**任务状态:** CONTINUE

---

可用的工具主要包括：

1. **functions.namespace.functions.JavaSDKMCPClient_AIsearch**  
   - 功能：执行搜索查询  
   - 用法示例：可以输入关键词进行网络搜索，支持通过大语言模型总结搜索结果，提高信息准确性。  
   - 参数：  
     - query: 搜索内容关键词或短语  
     - model（可选）: 指定是否用大语言模型总结，以及使用哪个模型  
     - instruction（可选）: 控制搜索结果输出风格和格式  
     - temperature、top_p（可选）: 控制大模型输出的随机性和多样性  
     - resource_type_filter（可选）: 指定搜索资源类型及返回数量

2. **multi_tool_use.namespace.multi_tool_use.parallel**  
   - 功能：支持并行调用多个工具。  
   - 用法示例：当需要同时执行多个工具操作时使用，提高效率。

如需具体工具使用示范或针对性操作，请告诉我任务需求。
25-12-27.16:32:37.876 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:32:38.300 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:35:31.456 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 3612 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:35:31.466 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:35:37.190 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:35:37.201 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:35:37.201 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:35:38.277 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:35:39.895 [main            ] INFO  AgentTest              - Started AgentTest in 10.874 seconds (process running for 13.728)
25-12-27.16:35:39.905 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:35:39.920 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:36:12.061 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:36:12.086 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:36:12.089 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:36:12.092 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:36:12.094 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:36:12.096 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:36:24.673 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:36:26.223 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@78a9bcbf
25-12-27.16:36:26.228 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:37:03.720 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.util.concurrent.CompletionException: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1770)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.mybatis.spring.MyBatisSystemException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:99)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:347)
	at jdk.proxy2/jdk.proxy2.$Proxy82.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:194)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy88.queryBySourceTypeAndId(Unknown Source)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientSystemPromptVOByClientIds(AgentRepository.java:241)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.queryAiClientSystemPromptMapByClientIds(AgentRepository.java:276)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.queryAiClientSystemPromptMapByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$3(AiClientLoadDataStrategy.java:45)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	... 4 common frames omitted
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
### The error may exist in file [D:\edge\ai-agent-station-study\ai-agent-station-study-app\target\classes\mybatis\mapper\ai_client_config_mapper.xml]
### The error may involve cn.bugstack.ai.infrastructure.dao.IAiClientConfigDao.queryBySourceTypeAndId
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:333)
	... 26 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:77)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:64)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:348)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:336)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	... 33 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: MainHikariPool - Connection is not available, request timed out after 35382ms (total=2, active=2, idle=0, waiting=0)
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:686)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:179)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:144)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:127)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	... 43 common frames omitted
25-12-27.16:38:05.696 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:40:29.530 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=2m52s945ms887µs500ns).
25-12-27.16:40:29.641 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:40:29.979 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:40:39.377 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 12528 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:40:39.395 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:40:46.085 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:40:46.098 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:40:46.098 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:40:47.376 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:40:49.338 [main            ] INFO  AgentTest              - Started AgentTest in 12.468 seconds (process running for 15.446)
25-12-27.16:40:49.363 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:40:49.393 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:40:53.220 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:40:53.221 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:40:53.224 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:40:53.226 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:40:53.227 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:40:53.701 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:40:57.096 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:40:58.358 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@49e86475
25-12-27.16:40:58.377 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:43:09.007 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m40s486ms839µs500ns).
25-12-27.16:43:09.010 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: unclosed.str.lit N
com.alibaba.fastjson.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:574)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:488)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:207)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: com.alibaba.fastjson2.JSONException: unclosed.str.lit N
	at com.alibaba.fastjson2.JSONReader.char1(JSONReader.java:331)
	at com.alibaba.fastjson2.JSONReaderUTF16.readString(JSONReaderUTF16.java:3725)
	at com.alibaba.fastjson2.reader.ORG_2_3_Stdio.readObject(Unknown Source)
	at com.alibaba.fastjson2.reader.ObjectReaderImplMapTyped.readObject(ObjectReaderImplMapTyped.java:344)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:564)
	... 19 common frames omitted
25-12-27.16:43:13.299 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:43:15.205 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:43:15.205 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:43:38.673 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:43:38.846 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:43:46.166 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 16012 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:43:46.181 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:43:51.908 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:43:51.921 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:43:51.921 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:43:53.030 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:43:54.642 [main            ] INFO  AgentTest              - Started AgentTest in 10.865 seconds (process running for 13.795)
25-12-27.16:43:54.697 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:43:54.707 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:45:12.367 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:45:12.367 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:45:12.378 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:45:12.387 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:45:12.386 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:45:12.390 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:45:18.296 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 9812 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:45:18.305 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:45:21.620 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:45:21.627 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:45:21.628 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:45:22.332 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:45:23.210 [main            ] INFO  AgentTest              - Started AgentTest in 6.102 seconds (process running for 8.056)
25-12-27.16:45:23.216 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:45:23.221 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:45:23.227 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.228 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.229 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.231 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.232 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.233 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:45:23.271 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:45:24.184 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4f6c8558
25-12-27.16:45:24.191 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:45:25.009 [pool-2-thread-3 ] ERROR AgentRepository        - 解析传输配置失败: Unrecognized field "filesystem" (class cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigSse), not marked as ignorable (2 known properties: "sseEndpoint", "baseUri"])
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 2, column: 20] (through reference chain: cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigSse["filesystem"])
com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field "filesystem" (class cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigSse), not marked as ignorable (2 known properties: "sseEndpoint", "baseUri"])
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 2, column: 20] (through reference chain: cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigSse["filesystem"])
	at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1153)
	at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2241)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1821)
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1799)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:316)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4917)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3860)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3828)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository.AiClientToolMcpVOByClientIds(AgentRepository.java:203)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at cn.bugstack.ai.infrastructure.adapter.repository.AgentRepository$$SpringCGLIB$$0.AiClientToolMcpVOByClientIds(<generated>)
	at cn.bugstack.ai.domain.agent.service.armory.business.data.impl.AiClientLoadDataStrategy.lambda$loadData$2(AiClientLoadDataStrategy.java:40)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run$$$capture(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
25-12-27.16:45:25.119 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:25.127 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:45:25.128 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:25.542 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:45:25.619 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:45:25.627 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:45:25.628 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:45:26.769 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:45:26.769 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:45:26.769 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:45:26.771 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:45:26.771 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:45:26.772 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:45:26.878 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:26.886 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:45:26.886 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:27.065 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:45:27.122 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:45:27.123 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:45:27.123 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:27.232 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.16:45:27.233 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:27.248 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.16:45:27.248 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:45:27.322 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.16:45:27.323 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@1481ac82
25-12-27.16:45:34.089 [main            ] INFO  AgentTest              - 测试结果(call):**任务状态分析:**
当前用户询问“有哪些工具可以使用”，属于对系统功能和可用工具的了解需求，目前没有执行历史和复杂状态需要分析。

**执行历史评估:**
无执行历史，本次请求是对可用工具的初步了解。

**下一步策略:**
直接列举当前可用的工具及其简要介绍，帮助用户理解工具功能，为后续任务使用做准备。

**完成度评估:** 0%

**任务状态:** CONTINUE

下面是可用的主要工具：

1. **functions.JavaSDKMCPClient_AIsearch**
   - 功能：执行搜索查询，包括自然语言查询，支持基于关键词的精准搜索。
   - 用途：查找信息、梳理资料、做内容摘要等。
   - 参数：查询内容(query)，可选设置输出模型(model)、搜索指令(instruction)、温度(temperature)、top_p等。

2. **multi_tool_use.parallel**
   - 功能：可以同时并行调用多个functions工具。
   - 用途：提高效率，支持多任务同时执行，避免等待顺序调用带来的延迟。

如需了解具体工具使用示例或进一步帮助，请告诉我您具体想完成的任务类型。
25-12-27.16:45:34.116 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:45:34.528 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:47:00.000 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 18760 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:47:00.011 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:47:04.820 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:47:04.834 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:47:04.834 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:47:05.590 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:47:06.481 [main            ] INFO  AgentTest              - Started AgentTest in 8.078 seconds (process running for 10.221)
25-12-27.16:47:06.486 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:47:06.490 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:47:06.496 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.496 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.497 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.498 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.498 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.500 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:47:06.532 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:47:07.294 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@364ad4fa
25-12-27.16:47:07.297 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:47:08.276 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:08.284 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:47:08.284 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:08.654 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:47:08.735 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:47:08.746 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:47:08.748 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:47:10.072 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.16:47:10.072 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.16:47:10.073 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.16:47:10.073 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.16:47:10.073 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.16:47:10.073 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.16:47:10.186 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:10.193 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:47:10.193 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:10.360 [HttpClient-15-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:47:10.412 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:47:10.413 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:47:10.413 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:10.535 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.16:47:10.535 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:10.554 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.16:47:10.555 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:47:10.639 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.16:47:10.641 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@752aa6b9
25-12-27.16:47:15.532 [main            ] INFO  AgentTest              - 测试结果(call):**任务状态分析:**
当前任务目标是了解可用的工具。没有具体任务执行历史，需要先明确可用工具列表。

**执行历史评估:**
尚无执行历史，无法评估已经完成的工作。

**下一步策略:**
向系统查询所有可用的工具和功能模块，并详细列出它们的名称和用途，以便后续任务分析和执行。

**完成度评估:** 10%
**任务状态:** CONTINUE

根据当前环境信息，下面是可使用的工具类别：

1. **functions命名空间下的工具：**  
   - **functions.JavaSDKMCPClient_AIsearch**：执行搜索查询，支持自然语言输入，返回网页等搜索资源信息。可选用大语言模型进行搜索结果总结和格式控制。

2. **multi_tool_use命名空间下的工具：**  
   - **multi_tool_use.parallel**：并行调用多个函数工具，适用于同时执行多个独立工具请求，提升效率。

请问需要我具体介绍某个工具的功能和使用方法，或者查询可执行的具体功能列表吗？
25-12-27.16:47:15.556 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:47:15.958 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:52:39.246 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 8200 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:52:39.261 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:52:45.031 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:52:45.043 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:52:45.043 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:52:46.192 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:52:48.031 [main            ] INFO  AgentTest              - Started AgentTest in 11.197 seconds (process running for 14.117)
25-12-27.16:52:48.046 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:52:48.061 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:53:46.512 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:53:46.512 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:53:46.517 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:53:46.520 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:53:46.522 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:53:46.524 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:53:48.614 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:53:50.011 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@1ebdca2
25-12-27.16:53:50.023 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:54:07.150 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:54:18.390 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:54:18.390 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:54:57.154 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:55:00.229 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:55:14.737 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.16:55:40.912 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=45s758ms739µs600ns).
25-12-27.16:56:07.828 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.16:56:07.901 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.16:56:08.402 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.16:56:17.421 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 2476 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.16:56:17.435 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.16:56:23.229 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.16:56:23.241 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.16:56:23.241 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.16:56:24.223 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.16:56:25.830 [main            ] INFO  AgentTest              - Started AgentTest in 10.82 seconds (process running for 13.791)
25-12-27.16:56:25.845 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.16:56:25.860 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.16:57:41.524 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.16:57:41.524 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.16:57:41.530 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.16:57:41.532 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.16:57:41.534 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.16:57:41.537 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.16:57:43.507 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.16:57:44.782 [pool-2-thread-1 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@2f0cba4d
25-12-27.16:57:44.798 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.16:57:51.098 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:57:52.022 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.16:57:52.022 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.16:58:26.117 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.16:58:26.715 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.16:58:30.085 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:00:07.010 [MainHikariPool housekeeper] WARN  HikariPool             - MainHikariPool - Thread starvation or clock leap detected (housekeeper delta=1m48s374ms442µs500ns).
25-12-27.17:00:07.020 [main            ] ERROR AiAgentAutoConfiguration - AI Agent 自动装配失败
java.lang.NullPointerException: Cannot invoke "cn.bugstack.ai.domain.agent.model.valobj.AiClientToolMcpVO$TransportConfigStdio$Stdio.getCommand()" because "stdio" is null
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.createMcpSyncClient(AiClientToolMcpNode.java:106)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:43)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientToolMcpNode.doApply(AiClientToolMcpNode.java:23)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:39)
	at cn.bugstack.ai.domain.agent.service.armory.AiClientApiNode.doApply(AiClientApiNode.java:15)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.router(AbstractMultiThreadStrategyRouter.java:22)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:47)
	at cn.bugstack.ai.domain.agent.service.armory.RootNode.doApply(RootNode.java:17)
	at cn.bugstack.wrench.design.framework.tree.AbstractMultiThreadStrategyRouter.apply(AbstractMultiThreadStrategyRouter.java:31)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:67)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration.onApplicationEvent(AiAgentAutoConfiguration.java:21)
	at cn.bugstack.ai.config.AiAgentAutoConfiguration$$SpringCGLIB$$0.onApplicationEvent(<generated>)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:231)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
25-12-27.17:00:07.084 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:00:07.445 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:00:25.272 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 16640 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:00:25.279 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:00:28.519 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:00:28.529 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:00:28.529 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:00:29.178 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:00:29.942 [main            ] INFO  AgentTest              - Started AgentTest in 5.939 seconds (process running for 7.881)
25-12-27.17:00:29.946 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:00:29.949 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:00:29.953 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.954 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.954 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.956 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.957 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.958 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:00:29.994 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:00:30.681 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fd39514
25-12-27.17:00:30.686 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:00:31.731 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:00:31.738 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:00:31.739 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:00:32.218 [HttpClient-12-Worker-0] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:00:32.304 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:00:32.310 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:00:37.203 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:00:37.208 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:00:37.209 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:01:00.408 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:01:00.426 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:01:00.426 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:01:00.426 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:01:00.427 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:00.431 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:01:00.540 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:01:00.664 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:01:00.665 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:00.678 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:01:00.678 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:00.756 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:01:00.811 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:01:00.883 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:01:00.884 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:01:00.884 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:01:01.881 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:01:01.881 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:01:01.881 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:01:01.881 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:01:01.882 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:01:01.882 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:01:02.014 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:02.020 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:01:02.020 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:02.191 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:01:02.258 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:01:02.261 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:01:02.261 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:02.339 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:01:02.340 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:02.340 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:01:02.340 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:01:02.397 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:01:02.398 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@5c58e2c8
25-12-27.17:01:09.118 [main            ] INFO  AgentTest              - 测试结果(call):以下是当前可用的工具：

1. **执行搜索（functions.JavaSDKMCPClient_AIsearch）**
   - 功能：根据关键词或短语执行网络搜索。
   - 参数：
     - query（必填）：搜索关键词或短语。
     - model（可选）：指定使用的大语言模型来对搜索结果进行总结。
     - instruction（可选）：控制搜索结果的输出风格和格式。
     - temperature（可选）：控制模型输出随机性的采样参数。
     - top_p（可选）：控制模型输出多样性的核采样参数。
     - resource_type_filter（可选）：指定搜索资源的类型和每种类型返回的结果数量。

2. **多工具并行调用（multi_tool_use.parallel）**
   - 功能：同时调用多个工具并行执行任务。
   - 参数：
     - tool_uses：包含多个工具调用信息的数组，每个元素指定工具名称和对应的参数。

如果需要具体使用某个工具，可以告诉我您的需求，我会帮您合理调用。
25-12-27.17:01:09.145 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:01:09.252 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:01:09.252 [ForkJoinPool.commonPool-worker-2] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:01:09.549 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:06:31.728 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 8300 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:06:31.734 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:06:35.074 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:06:35.082 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:06:35.082 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:06:35.792 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:06:36.686 [main            ] INFO  AgentTest              - Started AgentTest in 6.193 seconds (process running for 8.16)
25-12-27.17:06:36.693 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:06:36.700 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:06:36.705 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.705 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.709 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.707 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.712 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.714 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:06:36.749 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:06:37.641 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@60c43883
25-12-27.17:06:37.647 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:06:38.566 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:38.575 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:06:38.575 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:39.146 [HttpClient-12-Worker-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:06:39.229 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:06:39.235 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:06:44.043 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:06:44.046 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:06:44.047 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:06:46.086 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:06:46.107 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:06:46.108 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:06:46.108 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:06:46.109 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:46.114 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:06:46.210 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:06:46.342 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:06:46.343 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:46.359 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:06:46.359 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:46.439 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:06:46.496 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:06:46.553 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:06:46.554 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:06:46.554 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:06:47.565 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:06:47.565 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:06:47.566 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:06:47.566 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:06:47.567 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:06:47.567 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:06:47.685 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:47.690 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:06:47.690 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:47.894 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:06:47.951 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:06:47.953 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:06:47.953 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:48.015 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:06:48.016 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:48.016 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:06:48.016 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:06:48.093 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:06:48.132 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:06:48.259 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:06:48.259 [parallel-7      ] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:06:48.657 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:19:04.387 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 15460 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:19:04.396 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:19:07.644 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:19:07.653 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:19:07.653 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:19:08.213 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:19:09.053 [main            ] INFO  AgentTest              - Started AgentTest in 5.897 seconds (process running for 7.767)
25-12-27.17:19:09.058 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:19:09.061 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:19:09.065 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.065 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.066 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.066 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.067 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.068 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:19:09.103 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:19:10.158 [pool-2-thread-2 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@2110c385
25-12-27.17:19:10.164 [pool-2-thread-2 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:19:11.151 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:11.157 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:19:11.157 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:11.638 [HttpClient-12-Worker-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:19:11.733 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:19:11.741 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:19:16.551 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:19:16.554 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:19:16.555 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:19:18.584 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:19:18.601 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:19:18.601 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:19:18.602 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:19:18.602 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:18.606 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:19:18.730 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:19:18.871 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:19:18.872 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:18.882 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:19:18.883 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:18.997 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:19:19.064 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:19:19.135 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:19:19.136 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:19:19.136 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:19:20.132 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:19:20.132 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:19:20.132 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:19:20.133 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:19:20.133 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:19:20.134 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:19:20.290 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:20.296 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:19:20.296 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:20.509 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:19:20.568 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:19:20.569 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:19:20.570 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:20.642 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:19:20.643 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:20.643 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:19:20.643 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:19:20.705 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:19:20.706 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@22f6fc71
25-12-27.17:19:28.620 [main            ] INFO  AgentTest              - 测试结果:
25-12-27.17:19:28.641 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:19:28.744 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:19:28.745 [ForkJoinPool.commonPool-worker-2] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:19:29.119 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:19:55.552 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 14900 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:19:55.560 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:19:59.263 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:19:59.270 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:19:59.271 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:20:00.024 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:20:00.986 [main            ] INFO  AgentTest              - Started AgentTest in 6.769 seconds (process running for 8.921)
25-12-27.17:20:00.991 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:20:00.996 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:20:01.000 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.001 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.002 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.006 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.006 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.009 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:20:01.046 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:20:01.789 [pool-2-thread-1 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d65d2f0
25-12-27.17:20:01.794 [pool-2-thread-1 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:20:02.771 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:02.779 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:20:02.780 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:03.177 [HttpClient-12-Worker-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:20:03.260 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:20:03.265 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:20:08.018 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:20:08.022 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:20:08.023 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:20:10.043 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:20:10.064 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:20:10.064 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:20:10.064 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:20:10.065 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:10.069 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:20:10.270 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:20:10.380 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:20:10.381 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:10.388 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:20:10.388 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:10.461 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:20:10.537 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:20:10.602 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:20:10.602 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:20:10.602 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:20:11.711 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:20:11.711 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:20:11.712 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:20:11.712 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:20:11.713 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:20:11.713 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:20:11.860 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:11.866 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:20:11.866 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:12.045 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:20:12.095 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:20:12.097 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:20:12.098 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:12.163 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:20:12.163 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:12.164 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:20:12.164 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:20:12.214 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:20:12.215 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@7678977c
25-12-27.17:20:17.985 [main            ] INFO  AgentTest              - 测试结果:
25-12-27.17:20:18.011 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:20:18.111 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:20:18.112 [ForkJoinPool.commonPool-worker-2] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:20:18.443 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:20:57.429 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 11028 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:20:57.435 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:21:00.917 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:21:00.928 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:21:00.929 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:21:01.567 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:21:02.594 [main            ] INFO  AgentTest              - Started AgentTest in 6.373 seconds (process running for 8.505)
25-12-27.17:21:02.600 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:21:02.605 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:21:02.609 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.609 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.610 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.610 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.612 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.612 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:21:02.656 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:21:03.565 [pool-2-thread-5 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@271be390
25-12-27.17:21:03.571 [pool-2-thread-5 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:21:04.660 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:04.668 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:21:04.668 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:05.027 [HttpClient-12-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:21:05.107 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:21:05.112 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:21:11.881 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:21:11.886 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:21:11.886 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:21:15.153 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:21:15.188 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:21:15.189 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:21:15.189 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:21:15.189 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:15.195 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:21:15.329 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:21:15.498 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:21:15.499 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:15.511 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:21:15.512 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:15.589 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:21:15.649 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:21:15.719 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:21:15.719 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:21:15.720 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:21:17.372 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:21:17.374 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:21:17.374 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:21:17.440 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:21:17.442 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:21:17.442 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:21:17.590 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:17.621 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:21:17.622 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:17.818 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:21:17.883 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:21:17.886 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:21:17.886 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:17.968 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:21:17.969 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:17.970 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:21:17.971 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:21:18.041 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:21:18.042 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@450655b3
25-12-27.17:21:22.259 [main            ] INFO  AgentTest              - 测试结果:
25-12-27.17:21:22.292 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:21:22.395 [ForkJoinPool.commonPool-worker-2] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:21:22.395 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:21:22.768 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
25-12-27.17:22:28.133 [main            ] INFO  AgentTest              - Starting AgentTest using Java 17.0.3.1 with PID 16268 (started by 20206 in D:\edge\ai-agent-station-study\ai-agent-station-study-app)
25-12-27.17:22:28.139 [main            ] INFO  AgentTest              - The following 1 profile is active: "dev"
25-12-27.17:22:33.117 [main            ] INFO  PgVectorStore          - Using the vector table name: vector_store_openai. Is empty: false
25-12-27.17:22:33.127 [main            ] INFO  PgVectorStore          - Initializing PGVectorStore schema for table: vector_store_openai in schema: public
25-12-27.17:22:33.127 [main            ] INFO  PgVectorStore          - vectorTableValidationsEnabled false
25-12-27.17:22:34.365 [main            ] INFO  OptionalValidatorFactoryBean - Failed to set up a Bean Validation provider: jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.
25-12-27.17:22:36.315 [main            ] INFO  AgentTest              - Started AgentTest in 9.91 seconds (process running for 12.35)
25-12-27.17:22:36.325 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配开始，配置: AiAgentAutoConfigProperties(enabled=true, clientIds=[3101, 3102, 3103, 3104])
25-12-27.17:22:36.331 [main            ] INFO  AiAgentAutoConfiguration - 开始自动装配AI客户端，客户端ID列表: [3101, 3102, 3103, 3104]
25-12-27.17:22:36.340 [pool-2-thread-1 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.350 [pool-2-thread-2 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.355 [pool-2-thread-3 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.357 [pool-2-thread-4 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.359 [pool-2-thread-5 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.361 [pool-2-thread-6 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101, 3102, 3103, 3104]
25-12-27.17:22:36.414 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Starting...
25-12-27.17:22:37.479 [pool-2-thread-4 ] INFO  HikariPool             - MainHikariPool - Added connection com.mysql.cj.jdbc.ConnectionImpl@202a50da
25-12-27.17:22:37.483 [pool-2-thread-4 ] INFO  HikariDataSource       - MainHikariPool - Start completed.
25-12-27.17:22:38.978 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:38.991 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:22:38.991 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:39.501 [HttpClient-12-Worker-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:22:39.609 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:22:39.619 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:22:45.996 [pool-4-thread-1 ] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=mcp-server-csdn, version=1.0.0] and Instructions null
25-12-27.17:22:46.001 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=mcp-server-csdn, version=1.0.0], instructions=null]
25-12-27.17:22:46.002 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5001
25-12-27.17:22:48.495 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Secure MCP Filesystem Server running on stdio
25-12-27.17:22:48.526 [pool-10-thread-1] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=secure-filesystem-server, version=0.2.0] and Instructions null
25-12-27.17:22:48.527 [main            ] INFO  AiClientToolMcpNode    - Tool Stdio MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental=null, logging=null, prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], serverInfo=Implementation[name=secure-filesystem-server, version=0.2.0], instructions=null]
25-12-27.17:22:48.528 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5003
25-12-27.17:22:48.528 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:48.534 [pool-12-thread-1] INFO  StdioClientTransport   - STDERR Message received: Client does not support MCP Roots, using allowed directories set from server args: [ 'D:\\文件', 'D:\\文件' ]
25-12-27.17:22:48.652 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:22:48.800 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2001
25-12-27.17:22:48.800 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:48.812 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:22:48.813 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101","3102","3103","3104"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:48.894 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:22:48.955 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3102
25-12-27.17:22:49.020 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3103
25-12-27.17:22:49.021 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3104
25-12-27.17:22:49.021 [main            ] INFO  AiAgentAutoConfiguration - AI Agent 自动装配完成，结果: null
25-12-27.17:22:50.450 [pool-2-thread-9 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_tool_mcp) [3101]
25-12-27.17:22:50.450 [pool-2-thread-10] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_system_prompt) [3101]
25-12-27.17:22:50.450 [pool-2-thread-7 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_api) [3101]
25-12-27.17:22:50.450 [pool-2-thread-8 ] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_model) [3101]
25-12-27.17:22:50.452 [pool-2-thread-12] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client) [3101]
25-12-27.17:22:50.452 [pool-2-thread-11] INFO  AiClientLoadDataStrategy - 查询配置数据(ai_client_advisor) [3101]
25-12-27.17:22:50.598 [main            ] INFO  RootNode               - Ai Agent 构建，数据加载节点 {"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:50.608 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_api_1001
25-12-27.17:22:50.608 [main            ] INFO  AiClientToolMcpNode    - Ai Agent 构建节点，Tool MCP 工具配置{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:50.791 [HttpClient-15-Worker-2] INFO  McpAsyncClient         - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], Info: Implementation[name=AIsearch, version=1.4.1] and Instructions null
25-12-27.17:22:50.853 [main            ] INFO  AiClientToolMcpNode    - Tool SSE MCP Initialized InitializeResult[protocolVersion=2024-11-05, capabilities=ServerCapabilities[completions=null, experimental={}, logging=null, prompts=PromptCapabilities[listChanged=false], resources=ResourceCapabilities[subscribe=false, listChanged=false], tools=ToolCapabilities[listChanged=false]], serverInfo=Implementation[name=AIsearch, version=1.4.1], instructions=null]
25-12-27.17:22:50.855 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_tool_mcp_5006
25-12-27.17:22:50.856 [main            ] INFO  AiClientModelNode      - Ai Agent 构建节点，Mode 对话模型{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:50.915 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_model_2002
25-12-27.17:22:50.916 [main            ] INFO  AiClientAdvisorNode    - Ai Agent 构建节点，Advisor 顾问角色{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:50.916 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_advisor_4001
25-12-27.17:22:50.917 [main            ] INFO  AiClientNode           - Ai Agent 构建节点，客户端{"commandIdList":["3101"],"commandType":"client","loadDataStrategy":"aiClientLoadDataStrategy"}
25-12-27.17:22:50.975 [main            ] INFO  AbstractArmorySupport  - bean注册成功：ai_client_3101
25-12-27.17:22:50.976 [main            ] INFO  AgentTest              - 客户端构建:org.springframework.ai.chat.client.DefaultChatClient@69d5e248
25-12-27.17:22:57.984 [main            ] INFO  AgentTest              - 测试结果(call):{"metadata":{"empty":false,"id":"chatcmpl-CrKnfNd4LmiEAAWiPWeMgekmQ1p2P","model":"gpt-4.1-mini-2025-04-14","rateLimit":{"requestsLimit":200,"requestsRemaining":199,"requestsReset":{"nano":0,"negative":false,"seconds":432,"units":["SECONDS","NANOS"],"zero":false},"tokensLimit":100000,"tokensRemaining":92746,"tokensReset":{"nano":0,"negative":false,"seconds":188353{"$ref":"$.metadata.rateLimit.requestsReset.units"},"zero":false}},"usage":{"promptTokens":4519,"completionTokens":134,"totalTokens":4653}},"result":{"metadata":{"contentFilters":[],"empty":true,"finishReason":"STOP"},"output":{"media":[],"messageType":"ASSISTANT","metadata":{"role":"ASSISTANT","messageType":"ASSISTANT","refusal":"","finishReason":"STOP","annotations":[],"index":0,"id":"chatcmpl-CrKnfNd4LmiEAAWiPWeMgekmQ1p2P"},"text":"我可以使用的工具包括：\n- 发布文章到CSDN\n- 读取文件内容\n- 读取文本文件内容\n- 读取多文件内容\n- 编辑文件内容\n- 创建目录\n- 列出目录文件和子目录\n- 获取文件或目录的信息\n- 搜索文件和目录\n- 移动或重命名文件和目录\n- 执行网络搜索\n- 读取图片或音频文件\n\n当前我能访问的目录是 D:\\文件。如果需要使用哪个具体工具，请告诉我。","toolCalls":[]}},"results":[{"$ref":"$.metadata.rateLimit.requestsReset.tokensReset.usage.result"}]}
25-12-27.17:22:58.022 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown initiated...
25-12-27.17:22:58.129 [ForkJoinPool.commonPool-worker-2] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:22:58.129 [ForkJoinPool.commonPool-worker-1] WARN  StdioClientTransport   - Process terminated with code 1
25-12-27.17:22:58.440 [SpringApplicationShutdownHook] INFO  HikariDataSource       - MainHikariPool - Shutdown completed.
